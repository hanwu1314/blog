import{_ as t}from"./plugin-vue_export-helper-c27b6911.js";import{r as p,o as e,c as o,a as n,b as i,d as c,f as s}from"./app-915b6fb2.js";const l="/blog/assets/04-01-7869703b.webp",u="data:image/webp;base64,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",r={},k=s('<h2 id="✒️登录流程图" tabindex="-1"><a class="header-anchor" href="#✒️登录流程图" aria-hidden="true">#</a> ✒️登录流程图</h2><p><img src="'+l+`" alt="assets/3 注册.assets/fa_business_db.png" loading="lazy"></p><p><code>application\\home\\controller\\Index.php</code></p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code>    <span class="token doc-comment comment">/**
     * 登录
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">request</span><span class="token operator">-&gt;</span><span class="token function">isPost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$mobile</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">request</span><span class="token operator">-&gt;</span><span class="token function">param</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;mobile&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;trim&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$password</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">request</span><span class="token operator">-&gt;</span><span class="token function">param</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;password&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;trim&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token variable">$business</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">BusinessModel</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;mobile&#39;</span> <span class="token operator">=&gt;</span> <span class="token variable">$mobile</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$business</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;用户不存在&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">md5</span><span class="token punctuation">(</span><span class="token variable">$password</span> <span class="token operator">.</span> <span class="token variable">$business</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;salt&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token variable">$business</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;password&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;密码错误&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
                <span class="token string single-quoted-string">&#39;id&#39;</span> <span class="token operator">=&gt;</span> <span class="token variable">$business</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;id&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token string single-quoted-string">&#39;mobile&#39;</span> <span class="token operator">=&gt;</span> <span class="token variable">$business</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;mobile&#39;</span><span class="token punctuation">]</span>
            <span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token function">cookie</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;LoginBusiness&#39;</span><span class="token punctuation">,</span> <span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;登录成功&#39;</span><span class="token punctuation">,</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;home/business/index&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><p><code>application\\home\\view\\business\\index.html</code> 去除首页登录按钮</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>login.html<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>login wow fadeInUp<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-wow-delay</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200ms<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>登录<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="✨追加字段与加密手机号" tabindex="-1"><a class="header-anchor" href="#✨追加字段与加密手机号" aria-hidden="true">#</a> ✨追加字段与加密手机号</h2>`,8),d={href:"https://www.kancloud.cn/manual/thinkphp5/135192",target:"_blank",rel:"noopener noreferrer"},v=s(`<p><code>application\\common\\model\\business\\Business.php</code></p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code>    <span class="token doc-comment comment">/** 追加字段 */</span>
    <span class="token keyword">protected</span> <span class="token variable">$append</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">&#39;mobile_text&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;avatar_cdn&#39;</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
     * 获取手机号将其加密
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">getMobileTextAttr</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$data</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$mobile</span> <span class="token operator">=</span> <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;mobile&#39;</span><span class="token punctuation">]</span> <span class="token operator">??</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$mobile</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token constant boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token function">substr_replace</span><span class="token punctuation">(</span><span class="token variable">$mobile</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;****&#39;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="✨创建home公共控制器" tabindex="-1"><a class="header-anchor" href="#✨创建home公共控制器" aria-hidden="true">#</a> ✨创建home公共控制器</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>php think make:controller common/Home
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>application\\common\\controller\\Home.php</code></p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">app<span class="token punctuation">\\</span>common<span class="token punctuation">\\</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\\</span>Controller</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\\</span>Request</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">Controller</span>
<span class="token punctuation">{</span>
    <span class="token doc-comment comment">/** 不需要登录的方法 */</span>
    <span class="token keyword">protected</span> <span class="token variable">$noNeedLogin</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token doc-comment comment">/** 全局登录的信息 */</span>
    <span class="token keyword">protected</span> <span class="token variable">$LoginBusiness</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword static-context">parent</span><span class="token operator">::</span><span class="token function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 获取当前的操作名</span>
        <span class="token variable">$action</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">request</span><span class="token operator">-&gt;</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 判断哪些操作名需要调用验证登录</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">in_array</span><span class="token punctuation">(</span><span class="token variable">$action</span><span class="token punctuation">,</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">noNeedLogin</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">in_array</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;*&#39;</span><span class="token punctuation">,</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">noNeedLogin</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">isLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 验证登录
     */</span>
    <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function-definition function">isLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// 获取cookie</span>
        <span class="token variable">$LoginBusiness</span> <span class="token operator">=</span> <span class="token function">cookie</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;LoginBusiness&#39;</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$LoginBusiness</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;请先登录&#39;</span><span class="token punctuation">,</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;home/index/login&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 从登录信息获取相应的数据查询数据表有没有这个用户</span>
        <span class="token variable">$id</span> <span class="token operator">=</span> <span class="token variable">$LoginBusiness</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;id&#39;</span><span class="token punctuation">]</span> <span class="token operator">??</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token variable">$mobile</span> <span class="token operator">=</span> <span class="token variable">$LoginBusiness</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;mobile&#39;</span><span class="token punctuation">]</span> <span class="token operator">??</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">;</span>

        <span class="token comment">// 查询数据表</span>
        <span class="token variable">$business</span> <span class="token operator">=</span> <span class="token function">model</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;business.Business&#39;</span><span class="token punctuation">)</span>
            <span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;id&#39;</span> <span class="token operator">=&gt;</span> <span class="token variable">$id</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;mobile&#39;</span> <span class="token operator">=&gt;</span> <span class="token variable">$mobile</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token operator">-&gt;</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$business</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 清除非法cookie</span>
            <span class="token function">cookie</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;LoginBusiness&#39;</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;非法登录&#39;</span><span class="token punctuation">,</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;/home/index/login&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 查询出来的用户信息赋值全局使用</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">LoginBusiness</span> <span class="token operator">=</span> <span class="token variable">$business</span><span class="token punctuation">;</span>

        <span class="token comment">// 赋值全局的视图</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
            <span class="token string single-quoted-string">&#39;LoginBusiness&#39;</span> <span class="token operator">=&gt;</span> <span class="token variable">$business</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>将Business的父类改为上面的Home</p><p><code>application\\home\\controller\\Business.php</code></p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">app<span class="token punctuation">\\</span>common<span class="token punctuation">\\</span>controller<span class="token punctuation">\\</span>Home</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name-definition class-name">Business</span> <span class="token keyword">extends</span> <span class="token class-name">Home</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>登录后台管理面板 常规设置-&gt;系统设置 添加域名变量</p><p><img src="`+u+`" alt="11" loading="lazy"></p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code>    <span class="token doc-comment comment">/**
     * 获取头像
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">getAvatarCdnAttr</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$data</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$avatar</span> <span class="token operator">=</span> <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;avatar&#39;</span><span class="token punctuation">]</span> <span class="token operator">??</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$avatar</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$avatar</span> <span class="token operator">=</span> <span class="token string single-quoted-string">&#39;assets/home/images/avatar.jpg&#39;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 获取网站域名</span>
        <span class="token variable">$cdn</span> <span class="token operator">=</span> <span class="token function">config</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;site.url&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token variable">$cdn</span> <span class="token operator">.</span> <span class="token variable">$avatar</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>application\\home\\view\\business\\index.html</code>修改img的路径</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$LoginBusiness.avatar_cdn}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="✨注销功能" tabindex="-1"><a class="header-anchor" href="#✨注销功能" aria-hidden="true">#</a> ✨注销功能</h2><p><code>application\\home\\view\\business\\index.html</code> 最底部添加</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    $<span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;#logout&#39;</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        mui<span class="token operator">.</span><span class="token function">confirm</span><span class="token punctuation">(</span>
            <span class="token string single-quoted-string">&#39;是否确认退出&#39;</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">&#39;退出提醒&#39;</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;确认&#39;</span><span class="token punctuation">,</span><span class="token string single-quoted-string">&#39;取消&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token keyword">function</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token operator">.</span>index <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token punctuation">{</span>
                    $<span class="token operator">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                        type<span class="token punctuation">:</span><span class="token string single-quoted-string">&#39;post&#39;</span><span class="token punctuation">,</span>
                        <span class="token argument-name">url</span><span class="token punctuation">:</span><span class="token string backtick-quoted-string">\`{:url(&#39;/home/index/logout&#39;)}\`</span><span class="token punctuation">,</span>
                        <span class="token argument-name">dataType</span><span class="token punctuation">:</span><span class="token string single-quoted-string">&#39;json&#39;</span><span class="token punctuation">,</span>
                        <span class="token argument-name">success</span><span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
                        <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>result<span class="token operator">.</span>code <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span>
                            <span class="token punctuation">{</span>
                                mui<span class="token operator">.</span><span class="token function">toast</span><span class="token punctuation">(</span>result<span class="token operator">.</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>

                                $<span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;.mui-popup-backdrop&#39;</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                                $<span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;.mui-popup&#39;</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

                                <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                                    location<span class="token operator">.</span>href <span class="token operator">=</span> <span class="token string backtick-quoted-string">\`{:url(&#39;/home/index/login&#39;)}\`</span><span class="token punctuation">;</span>
                                <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>application\\home\\controller\\Index.php</code></p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code>    <span class="token doc-comment comment">/**
     * 注销
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">request</span><span class="token operator">-&gt;</span><span class="token function">isAjax</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">cookie</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;LoginBusiness&#39;</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;退出账号成功&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="✨登录验证" tabindex="-1"><a class="header-anchor" href="#✨登录验证" aria-hidden="true">#</a> ✨登录验证</h2><p><code>application\\home\\controller\\Index.php</code></p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// 判断是否已经登录 登录后重定向到首页</span>
        <span class="token variable">$LoginBusiness</span> <span class="token operator">=</span> <span class="token function">cookie</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;LoginBusiness&#39;</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$LoginBusiness</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;/home/business/index&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// ....</span>
	<span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// 判断是否已经登录 登录后重定向到首页</span>
        <span class="token variable">$LoginBusiness</span> <span class="token operator">=</span> <span class="token function">cookie</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;LoginBusiness&#39;</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$LoginBusiness</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;/home/business/index&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//....</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="🛠️代码重构优化" tabindex="-1"><a class="header-anchor" href="#🛠️代码重构优化" aria-hidden="true">#</a> 🛠️代码重构优化</h2><ol><li>减少重复代码：登录和注册方法中的判断是否已经登录的部分可以抽离一个单独的方法</li><li>参数验证，在注册方法中，可以对手机号和密码进行非空验证</li><li>注册成功后重定向首页抽离出函数：注册成功后，可以直接重定向登录页面</li><li>使用密码哈希函数：可以使用密码哈希函数password_hash()来进行密码哈希和验证，而不是使用简单的md5。</li></ol><p><code>application\\home\\controller\\Index.php</code></p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">app<span class="token punctuation">\\</span>home<span class="token punctuation">\\</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\\</span>Controller</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">Controller</span>
<span class="token punctuation">{</span>
    <span class="token doc-comment comment">/** 用户模型 */</span>
    <span class="token keyword">protected</span> <span class="token variable">$BusinessModel</span> <span class="token operator">=</span> <span class="token constant">null</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">_initialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">BusinessModel</span> <span class="token operator">=</span> <span class="token function">model</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;business.Business&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/** 
     * 注册
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// 判断是否已经登录 登录后重定向到首页</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">isUserLoggedIn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">redirectToHome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">request</span><span class="token operator">-&gt;</span><span class="token function">isPost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$mobile</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">request</span><span class="token operator">-&gt;</span><span class="token function">param</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;mobile&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;trim&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$password</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">request</span><span class="token operator">-&gt;</span><span class="token function">param</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;password&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;trim&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 验证参数</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$mobile</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$password</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;手机号和密码不能为空&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token comment">// 生成密码盐和哈希密码</span>
            <span class="token variable">$salt</span> <span class="token operator">=</span> <span class="token function">build_ranstr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$hashedPassword</span> <span class="token operator">=</span> <span class="token function">password_hash</span><span class="token punctuation">(</span><span class="token variable">$password</span> <span class="token operator">.</span> <span class="token variable">$salt</span><span class="token punctuation">,</span> <span class="token constant">PASSWORD_DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 组装注册的数据</span>
            <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
                <span class="token string single-quoted-string">&#39;mobile&#39;</span> <span class="token operator">=&gt;</span> <span class="token variable">$mobile</span><span class="token punctuation">,</span>
                <span class="token string single-quoted-string">&#39;password&#39;</span> <span class="token operator">=&gt;</span> <span class="token variable">$hashedPassword</span><span class="token punctuation">,</span>
                <span class="token string single-quoted-string">&#39;salt&#39;</span> <span class="token operator">=&gt;</span> <span class="token variable">$salt</span><span class="token punctuation">,</span>
                <span class="token string single-quoted-string">&#39;money&#39;</span> <span class="token operator">=&gt;</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token string single-quoted-string">&#39;auth&#39;</span> <span class="token operator">=&gt;</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token string single-quoted-string">&#39;deal&#39;</span> <span class="token operator">=&gt;</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">;</span>

            <span class="token comment">//  查询用户来源</span>
            <span class="token variable">$source</span> <span class="token operator">=</span> <span class="token function">model</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;business.Source&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;name&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;LIKE&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;%云课堂%&#39;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;sourceid&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$source</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;id&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token comment">// 保存用户数据</span>
            <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">registerUser</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$result</span> <span class="token operator">===</span> <span class="token constant boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">getRegisterError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;注册成功&#39;</span><span class="token punctuation">,</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;/home/index/login&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 登录
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// 判断是否已经登录 登录后重定向到首页</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">isUserLoggedIn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">redirectToHome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">request</span><span class="token operator">-&gt;</span><span class="token function">isPost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$mobile</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">request</span><span class="token operator">-&gt;</span><span class="token function">param</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;mobile&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;trim&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$password</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">request</span><span class="token operator">-&gt;</span><span class="token function">param</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;password&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;trim&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 查询用户</span>
            <span class="token variable">$user</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">getUserByMobile</span><span class="token punctuation">(</span><span class="token variable">$mobile</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$user</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;用户不存在&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// 验证密码</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">password_verify</span><span class="token punctuation">(</span><span class="token variable">$password</span> <span class="token operator">.</span> <span class="token variable">$user</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;salt&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$user</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;password&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;密码错误&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token comment">// 设置登录信息</span>
            <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
                <span class="token string single-quoted-string">&#39;id&#39;</span> <span class="token operator">=&gt;</span> <span class="token variable">$user</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;id&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token string single-quoted-string">&#39;mobile&#39;</span> <span class="token operator">=&gt;</span> <span class="token variable">$user</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;mobile&#39;</span><span class="token punctuation">]</span>
            <span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token function">cookie</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;LoginBusiness&#39;</span><span class="token punctuation">,</span> <span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;登录成功&#39;</span><span class="token punctuation">,</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;home/business/index&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 判断是否已经登录
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">function</span> <span class="token function-definition function">isUserLoggedIn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$LoginBusiness</span> <span class="token operator">=</span> <span class="token function">cookie</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;LoginBusiness&#39;</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">!</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$LoginBusiness</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 重定向到首页
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">function</span> <span class="token function-definition function">redirectToHome</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;/home/business/index&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 注册用户
     */</span>
    <span class="token keyword">private</span>  <span class="token keyword">function</span> <span class="token function-definition function">registerUser</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">BusinessModel</span><span class="token operator">-&gt;</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;common/business/Business.register&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 获取注册错误信息
     */</span>
    <span class="token keyword">private</span>  <span class="token keyword">function</span> <span class="token function-definition function">getRegisterError</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">BusinessModel</span><span class="token operator">-&gt;</span><span class="token function">getError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 根据手机号获取用户
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">function</span> <span class="token function-definition function">getUserByMobile</span><span class="token punctuation">(</span><span class="token variable">$mobile</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">BusinessModel</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;mobile&#39;</span> <span class="token operator">=&gt;</span> <span class="token variable">$mobile</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 注销
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">request</span><span class="token operator">-&gt;</span><span class="token function">isAjax</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">cookie</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;LoginBusiness&#39;</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;退出账号成功&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,26);function m(b,g){const a=p("ExternalLinkIcon");return e(),o("div",null,[k,n("p",null,[n("a",d,[i("获取器 · ThinkPHP5.0完全开发手册 · 看云 (kancloud.cn)"),c(a)])]),v])}const y=t(r,[["render",m],["__file","4登录.html.vue"]]);export{y as default};
