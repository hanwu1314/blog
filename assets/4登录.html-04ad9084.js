const s=JSON.parse(`{"key":"v-8ee73cda","path":"/backEnd/PHP/%E6%A1%86%E6%9E%B6/FastAdmin/4%E7%99%BB%E5%BD%95.html","title":"ç™»å½•åŠŸèƒ½","lang":"zh-CN","frontmatter":{"title":"ç™»å½•åŠŸèƒ½","icon":"bijiben","category":"php","order":4,"description":"âœ’ï¸ç™»å½•æµç¨‹å›¾ application\\\\home\\\\controller\\\\Index.php /** * ç™»å½• */ public function login() { if ($this-&gt;request-&gt;isPost()) { $mobile = $this-&gt;request-&gt;param('mobile', '', 'trim'); $password = $this-&gt;request-&gt;param('password', '', 'trim'); $business = $this-&gt;BusinessModel-&gt;where(['mobile' =&gt; $mobile])-&gt;find(); if (!$business) { $this-&gt;error('ç”¨æˆ·ä¸å­˜åœ¨'); } if (md5($password . $business['salt']) != $business['password']) { $this-&gt;error('å¯†ç é”™è¯¯'); } $data = [ 'id' =&gt; $business['id'], 'mobile' =&gt; $business['mobile'] ]; cookie('LoginBusiness', $data); $this-&gt;success('ç™»å½•æˆåŠŸ', url('home/business/index')); } return $this-&gt;fetch(); }","head":[["meta",{"property":"og:url","content":"https://ycyang.site/blog/backEnd/PHP/%E6%A1%86%E6%9E%B6/FastAdmin/4%E7%99%BB%E5%BD%95.html"}],["meta",{"property":"og:site_name","content":"å¯’èˆçŸ¥è¯†å®åº“"}],["meta",{"property":"og:title","content":"ç™»å½•åŠŸèƒ½"}],["meta",{"property":"og:description","content":"âœ’ï¸ç™»å½•æµç¨‹å›¾ application\\\\home\\\\controller\\\\Index.php /** * ç™»å½• */ public function login() { if ($this-&gt;request-&gt;isPost()) { $mobile = $this-&gt;request-&gt;param('mobile', '', 'trim'); $password = $this-&gt;request-&gt;param('password', '', 'trim'); $business = $this-&gt;BusinessModel-&gt;where(['mobile' =&gt; $mobile])-&gt;find(); if (!$business) { $this-&gt;error('ç”¨æˆ·ä¸å­˜åœ¨'); } if (md5($password . $business['salt']) != $business['password']) { $this-&gt;error('å¯†ç é”™è¯¯'); } $data = [ 'id' =&gt; $business['id'], 'mobile' =&gt; $business['mobile'] ]; cookie('LoginBusiness', $data); $this-&gt;success('ç™»å½•æˆåŠŸ', url('home/business/index')); } return $this-&gt;fetch(); }"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-08-17T08:39:15.000Z"}],["meta",{"property":"article:author","content":"Mr.DanceCold"}],["meta",{"property":"article:modified_time","content":"2023-08-17T08:39:15.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"ç™»å½•åŠŸèƒ½\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-08-17T08:39:15.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mr.DanceCold\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"âœ’ï¸ç™»å½•æµç¨‹å›¾","slug":"âœ’ï¸ç™»å½•æµç¨‹å›¾","link":"#âœ’ï¸ç™»å½•æµç¨‹å›¾","children":[]},{"level":2,"title":"âœ¨è¿½åŠ å­—æ®µä¸åŠ å¯†æ‰‹æœºå·","slug":"âœ¨è¿½åŠ å­—æ®µä¸åŠ å¯†æ‰‹æœºå·","link":"#âœ¨è¿½åŠ å­—æ®µä¸åŠ å¯†æ‰‹æœºå·","children":[]},{"level":2,"title":"âœ¨åˆ›å»ºhomeå…¬å…±æ§åˆ¶å™¨","slug":"âœ¨åˆ›å»ºhomeå…¬å…±æ§åˆ¶å™¨","link":"#âœ¨åˆ›å»ºhomeå…¬å…±æ§åˆ¶å™¨","children":[]},{"level":2,"title":"âœ¨æ³¨é”€åŠŸèƒ½","slug":"âœ¨æ³¨é”€åŠŸèƒ½","link":"#âœ¨æ³¨é”€åŠŸèƒ½","children":[]},{"level":2,"title":"âœ¨ç™»å½•éªŒè¯","slug":"âœ¨ç™»å½•éªŒè¯","link":"#âœ¨ç™»å½•éªŒè¯","children":[]},{"level":2,"title":"ğŸ› ï¸ä»£ç é‡æ„ä¼˜åŒ–","slug":"ğŸ› ï¸ä»£ç é‡æ„ä¼˜åŒ–","link":"#ğŸ› ï¸ä»£ç é‡æ„ä¼˜åŒ–","children":[]}],"git":{"createdTime":1692261555000,"updatedTime":1692261555000,"contributors":[{"name":"hanwu","email":"hanwu1314@outlook.com","commits":1}]},"readingTime":{"minutes":4.2,"words":1260},"filePathRelative":"backEnd/PHP/æ¡†æ¶/FastAdmin/4ç™»å½•.md","localizedDate":"2023å¹´8æœˆ17æ—¥","excerpt":"<h2> âœ’ï¸ç™»å½•æµç¨‹å›¾</h2>\\n<p></p>\\n<p><code>application\\\\home\\\\controller\\\\Index.php</code></p>\\n<div class=\\"language-php line-numbers-mode\\" data-ext=\\"php\\"><pre class=\\"language-php\\"><code>    <span class=\\"token doc-comment comment\\">/**\\n     * ç™»å½•\\n     */</span>\\n    <span class=\\"token keyword\\">public</span> <span class=\\"token keyword\\">function</span> <span class=\\"token function-definition function\\">login</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span>\\n    <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token keyword\\">if</span> <span class=\\"token punctuation\\">(</span><span class=\\"token variable\\">$this</span><span class=\\"token operator\\">-&gt;</span><span class=\\"token property\\">request</span><span class=\\"token operator\\">-&gt;</span><span class=\\"token function\\">isPost</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n            <span class=\\"token variable\\">$mobile</span> <span class=\\"token operator\\">=</span> <span class=\\"token variable\\">$this</span><span class=\\"token operator\\">-&gt;</span><span class=\\"token property\\">request</span><span class=\\"token operator\\">-&gt;</span><span class=\\"token function\\">param</span><span class=\\"token punctuation\\">(</span><span class=\\"token string single-quoted-string\\">'mobile'</span><span class=\\"token punctuation\\">,</span> <span class=\\"token string single-quoted-string\\">''</span><span class=\\"token punctuation\\">,</span> <span class=\\"token string single-quoted-string\\">'trim'</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n            <span class=\\"token variable\\">$password</span> <span class=\\"token operator\\">=</span> <span class=\\"token variable\\">$this</span><span class=\\"token operator\\">-&gt;</span><span class=\\"token property\\">request</span><span class=\\"token operator\\">-&gt;</span><span class=\\"token function\\">param</span><span class=\\"token punctuation\\">(</span><span class=\\"token string single-quoted-string\\">'password'</span><span class=\\"token punctuation\\">,</span> <span class=\\"token string single-quoted-string\\">''</span><span class=\\"token punctuation\\">,</span> <span class=\\"token string single-quoted-string\\">'trim'</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n\\n            <span class=\\"token variable\\">$business</span> <span class=\\"token operator\\">=</span> <span class=\\"token variable\\">$this</span><span class=\\"token operator\\">-&gt;</span><span class=\\"token property\\">BusinessModel</span><span class=\\"token operator\\">-&gt;</span><span class=\\"token function\\">where</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">[</span><span class=\\"token string single-quoted-string\\">'mobile'</span> <span class=\\"token operator\\">=&gt;</span> <span class=\\"token variable\\">$mobile</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">)</span><span class=\\"token operator\\">-&gt;</span><span class=\\"token function\\">find</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n\\n            <span class=\\"token keyword\\">if</span> <span class=\\"token punctuation\\">(</span><span class=\\"token operator\\">!</span><span class=\\"token variable\\">$business</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n                <span class=\\"token variable\\">$this</span><span class=\\"token operator\\">-&gt;</span><span class=\\"token function\\">error</span><span class=\\"token punctuation\\">(</span><span class=\\"token string single-quoted-string\\">'ç”¨æˆ·ä¸å­˜åœ¨'</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n            <span class=\\"token punctuation\\">}</span>\\n            <span class=\\"token keyword\\">if</span> <span class=\\"token punctuation\\">(</span><span class=\\"token function\\">md5</span><span class=\\"token punctuation\\">(</span><span class=\\"token variable\\">$password</span> <span class=\\"token operator\\">.</span> <span class=\\"token variable\\">$business</span><span class=\\"token punctuation\\">[</span><span class=\\"token string single-quoted-string\\">'salt'</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">!=</span> <span class=\\"token variable\\">$business</span><span class=\\"token punctuation\\">[</span><span class=\\"token string single-quoted-string\\">'password'</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n                <span class=\\"token variable\\">$this</span><span class=\\"token operator\\">-&gt;</span><span class=\\"token function\\">error</span><span class=\\"token punctuation\\">(</span><span class=\\"token string single-quoted-string\\">'å¯†ç é”™è¯¯'</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n            <span class=\\"token punctuation\\">}</span>\\n\\n            <span class=\\"token variable\\">$data</span> <span class=\\"token operator\\">=</span> <span class=\\"token punctuation\\">[</span>\\n                <span class=\\"token string single-quoted-string\\">'id'</span> <span class=\\"token operator\\">=&gt;</span> <span class=\\"token variable\\">$business</span><span class=\\"token punctuation\\">[</span><span class=\\"token string single-quoted-string\\">'id'</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">,</span>\\n                <span class=\\"token string single-quoted-string\\">'mobile'</span> <span class=\\"token operator\\">=&gt;</span> <span class=\\"token variable\\">$business</span><span class=\\"token punctuation\\">[</span><span class=\\"token string single-quoted-string\\">'mobile'</span><span class=\\"token punctuation\\">]</span>\\n            <span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">;</span>\\n            <span class=\\"token function\\">cookie</span><span class=\\"token punctuation\\">(</span><span class=\\"token string single-quoted-string\\">'LoginBusiness'</span><span class=\\"token punctuation\\">,</span> <span class=\\"token variable\\">$data</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n\\n            <span class=\\"token variable\\">$this</span><span class=\\"token operator\\">-&gt;</span><span class=\\"token function\\">success</span><span class=\\"token punctuation\\">(</span><span class=\\"token string single-quoted-string\\">'ç™»å½•æˆåŠŸ'</span><span class=\\"token punctuation\\">,</span> <span class=\\"token function\\">url</span><span class=\\"token punctuation\\">(</span><span class=\\"token string single-quoted-string\\">'home/business/index'</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n        <span class=\\"token punctuation\\">}</span>\\n        <span class=\\"token keyword\\">return</span> <span class=\\"token variable\\">$this</span><span class=\\"token operator\\">-&gt;</span><span class=\\"token function\\">fetch</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","copyright":{"author":"Mr.DanceCold"},"autoDesc":true}`);export{s as data};
