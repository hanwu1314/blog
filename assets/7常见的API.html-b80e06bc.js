const n=JSON.parse('{"key":"v-19eb6cde","path":"/frontEnd/%E5%B0%8F%E7%A8%8B%E5%BA%8F/7%E5%B8%B8%E8%A7%81%E7%9A%84API.html","title":"常见的API","lang":"zh-CN","frontmatter":{"title":"常见的API","icon":"bijiben","category":"WXML","order":7,"description":"网络请求 API 和封装 wx.request 网络 / 发起请求 / wx.request (qq.com) 不支持 promise 风格 // pages/09_learn_network/index.js Page({ data: { allCities: {}, }, onLoad() { wx.request({ url: \\"https://mock.mengxuegu.com/mock/64f53d0be70b8004a69e9b62/city/all\\", success: (res) =&gt; { const data = res.data.data; this.setData({ allCities: data }); }, fail: (res) =&gt; { console.log(res); }, }); }, });","head":[["meta",{"property":"og:url","content":"https://ycyang.site/blog/frontEnd/%E5%B0%8F%E7%A8%8B%E5%BA%8F/7%E5%B8%B8%E8%A7%81%E7%9A%84API.html"}],["meta",{"property":"og:site_name","content":"寒舞知识宝库"}],["meta",{"property":"og:title","content":"常见的API"}],["meta",{"property":"og:description","content":"网络请求 API 和封装 wx.request 网络 / 发起请求 / wx.request (qq.com) 不支持 promise 风格 // pages/09_learn_network/index.js Page({ data: { allCities: {}, }, onLoad() { wx.request({ url: \\"https://mock.mengxuegu.com/mock/64f53d0be70b8004a69e9b62/city/all\\", success: (res) =&gt; { const data = res.data.data; this.setData({ allCities: data }); }, fail: (res) =&gt; { console.log(res); }, }); }, });"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-09-21T04:51:46.000Z"}],["meta",{"property":"article:author","content":"Mr.DanceCold"}],["meta",{"property":"article:modified_time","content":"2023-09-21T04:51:46.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"常见的API\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-09-21T04:51:46.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mr.DanceCold\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"网络请求 API 和封装","slug":"网络请求-api-和封装","link":"#网络请求-api-和封装","children":[{"level":3,"title":"wx.request","slug":"wx-request","link":"#wx-request","children":[]},{"level":3,"title":"请求域名配置","slug":"请求域名配置","link":"#请求域名配置","children":[]},{"level":3,"title":"网络请求的封装","slug":"网络请求的封装","link":"#网络请求的封装","children":[]},{"level":3,"title":"滑动到底部刷新数据","slug":"滑动到底部刷新数据","link":"#滑动到底部刷新数据","children":[]},{"level":3,"title":"封装成类","slug":"封装成类","link":"#封装成类","children":[]}]},{"level":2,"title":"展示弹窗和页面分享","slug":"展示弹窗和页面分享","link":"#展示弹窗和页面分享","children":[{"level":3,"title":"分享","slug":"分享","link":"#分享","children":[]}]},{"level":2,"title":"设备信息和位置信息","slug":"设备信息和位置信息","link":"#设备信息和位置信息","children":[]},{"level":2,"title":"小程序 Storage 存储","slug":"小程序-storage-存储","link":"#小程序-storage-存储","children":[]},{"level":2,"title":"页面跳转和数据传递","slug":"页面跳转和数据传递","link":"#页面跳转和数据传递","children":[{"level":3,"title":"通过 wx 的 API 跳转","slug":"通过-wx-的-api-跳转","link":"#通过-wx-的-api-跳转","children":[]},{"level":3,"title":"页面跳转的数据传递","slug":"页面跳转的数据传递","link":"#页面跳转的数据传递","children":[]}]},{"level":2,"title":"小程序登录流程演练","slug":"小程序登录流程演练","link":"#小程序登录流程演练","children":[]}],"git":{"createdTime":1695271906000,"updatedTime":1695271906000,"contributors":[{"name":"hanwu","email":"hanwu1314@outlook.com","commits":1}]},"readingTime":{"minutes":5.25,"words":1576},"filePathRelative":"frontEnd/小程序/7常见的API.md","localizedDate":"2023年9月21日","excerpt":"<h2> 网络请求 API 和封装</h2>\\n<h3> wx.request</h3>\\n<p><a href=\\"https://developers.weixin.qq.com/miniprogram/dev/api/network/request/wx.request.html\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">网络 / 发起请求 / wx.request (qq.com)</a></p>\\n<p>不支持 promise 风格</p>\\n<div class=\\"language-javascript line-numbers-mode\\" data-ext=\\"js\\"><pre class=\\"language-javascript\\"><code><span class=\\"token comment\\">// pages/09_learn_network/index.js</span>\\n<span class=\\"token function\\">Page</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">{</span>\\n  <span class=\\"token literal-property property\\">data</span><span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token literal-property property\\">allCities</span><span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">{</span><span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span>\\n  <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span>\\n  <span class=\\"token function\\">onLoad</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n    wx<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">request</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">{</span>\\n      <span class=\\"token literal-property property\\">url</span><span class=\\"token operator\\">:</span> <span class=\\"token string\\">\\"https://mock.mengxuegu.com/mock/64f53d0be70b8004a69e9b62/city/all\\"</span><span class=\\"token punctuation\\">,</span>\\n      <span class=\\"token function-variable function\\">success</span><span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">(</span><span class=\\"token parameter\\">res</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">=&gt;</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token keyword\\">const</span> data <span class=\\"token operator\\">=</span> res<span class=\\"token punctuation\\">.</span>data<span class=\\"token punctuation\\">.</span>data<span class=\\"token punctuation\\">;</span>\\n        <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">setData</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">{</span> <span class=\\"token literal-property property\\">allCities</span><span class=\\"token operator\\">:</span> data <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n      <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span>\\n      <span class=\\"token function-variable function\\">fail</span><span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">(</span><span class=\\"token parameter\\">res</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">=&gt;</span> <span class=\\"token punctuation\\">{</span>\\n        console<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">log</span><span class=\\"token punctuation\\">(</span>res<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n      <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span>\\n    <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n  <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span>\\n<span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","copyright":{"author":"Mr.DanceCold"},"autoDesc":true}');export{n as data};
